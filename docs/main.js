!function(e){function t(t){for(var o,s,i=t[0],a=t[1],l=t[2],f=0,u=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(r,s)&&r[s]&&u.push(r[s][0]),r[s]=0;for(o in a)Object.prototype.hasOwnProperty.call(a,o)&&(e[o]=a[o]);for(d&&d(t);u.length;)u.shift()();return c.push.apply(c,l||[]),n()}function n(){for(var e,t=0;t<c.length;t++){for(var n=c[t],o=!0,i=1;i<n.length;i++){var a=n[i];0!==r[a]&&(o=!1)}o&&(c.splice(t--,1),e=s(s.s=n[0]))}return e}var o={},r={0:0},c=[];function s(t){if(o[t])return o[t].exports;var n=o[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=e,s.c=o,s.d=function(e,t,n){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},s.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(n,o,function(t){return e[t]}.bind(null,o));return n},s.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="";var i=window.webpackJsonp=window.webpackJsonp||[],a=i.push.bind(i);i.push=t,i=i.slice();for(var l=0;l<i.length;l++)t(i[l]);var d=a;c.push([4,1]),n()}([,function(e,t,n){e.exports=n.p+"nodes.json"},function(e,t,n){e.exports=n.p+"links.json"},function(e,t,n){},function(e,t,n){"use strict";n.r(t);n(3);var o=n(0);let r={densityData:[],distance:30,zoomIdentity:null,screen:{},setScreen:()=>{r.canvas=o.select("canvas"),r.context=document.querySelector("canvas").getContext("2d"),r.screen.density=1;const e=document.getElementById("simulation");r.screen.width=e.clientWidth*r.screen.density,r.screen.height=e.clientHeight*r.screen.density,r.canvas.style("width",`${e.clientWidth}px`).style("height",`${e.clientHeight}px`).attr("width",r.screen.width).attr("height",r.screen.height)}};const c=2*Math.PI,s=o.rgb(251,253,166);const i={x:0,y:0,k:0},a=o.rgb(251,253,166);var l=()=>{(()=>{const e=o.extent(r.nodes,e=>e.x),t=o.extent(r.nodes,e=>e.y),n=Math.max(e[1]-e[0],t[1]-t[0]),c=e[1]-e[0],s=t[1]-t[0];i.k=c/n,i.x=-e[0]*i.k,i.y=-t[0]*i.k,r.densityData=o.contourDensity().x(e=>i.x+e.x*i.k).y(e=>i.y+e.y*i.k).weight(e=>e.docs).size([c/2,s/10])(r.nodes),r.densityData.forEach(e=>e.coordinates=e.coordinates.map(e=>e.map(e=>e.map(e=>[(e[0]-i.x)/i.k,(e[1]-i.y)/i.k]))))})();const e=o.geoPath().context(r.context);r.densityData.forEach((t,n)=>{r.context.beginPath(),e(t),r.context.strokeStyle=a,r.context.lineWidth=.8+.1*n,r.context.stroke()})};window.s=r,r.zoomIdentity=o.zoomIdentity;const d=()=>{const e=r.zoomIdentity.x*r.screen.density,t=r.zoomIdentity.y*r.screen.density,n=r.zoomIdentity.k;r.context.save(),r.context.clearRect(0,0,r.screen.width,r.screen.height),r.context.translate(e,t),r.context.scale(n,n),(()=>{const e=Math.pow(0,2),t=Math.pow(40,2);r.links.forEach(n=>{const c=Math.abs(n.source.x-n.target.x),s=Math.abs(n.source.y-n.target.y),i=Math.pow(c,2)+Math.pow(s,2);if(e<i&&i<t){const e=Object.getOwnPropertyNames(n.tokens).slice(0,3),t=c/2+(n.source.x<n.target.x?n.source.x:n.target.x),i=s/2+(n.source.y<n.target.y?n.source.y:n.target.y),a=2.4*e.length;e.forEach((e,n)=>{r.context.beginPath(),r.context.fillStyle=o.rgb(251,253,166),r.context.textAlign="center",r.context.font="normal 300 1.2pt Helvetica",r.context.fillText(e,t,i+a/2+2.4*n),r.context.fill()})}})})(),r.context.beginPath(),r.context.fillStyle=s,r.context.font="1.5pt Helvetica",r.context.textAlign="center",r.nodes.forEach(e=>{r.context.moveTo(e.x,e.y),r.context.arc(e.x,e.y,.5,0,c),r.context.fillText(`${e.id} (${e.docs})`,e.x,e.y+4)}),r.context.fill(),l(),r.context.restore()};var f=n(1),u=n.n(f),h=n(2),x=n.n(h);window.d3=o,Promise.all([o.json(u.a),o.json(x.a)]).then(([e,t])=>{r.setScreen(),r.links=t,r.nodes=e,console.log("nodes",r.nodes.length),console.log("links",r.links.length),(()=>{const e=o.forceSimulation().force("charge",o.forceManyBody().strength(-600)).force("collide",o.forceCollide().radius(20)).force("center",o.forceCenter(r.screen.width/2,r.screen.height/2)).force("link",o.forceLink().id(e=>e.id).strength(e=>e.value));e.nodes(r.nodes),e.force("link").links(r.links);e.on("tick",d).on("end",()=>{r.end=!0}),r.zoom=o.zoom().on("zoom",()=>{r.zoomIdentity=o.event.transform,d()}),r.zoom.scaleExtent([.1,10]),r.zoom.scaleTo(r.canvas,.3),r.canvas.call(r.zoom)})()})}]);